{"version":3,"file":"index.js","sources":["../../vite-plugin-material-symbols-svg/dist/utils-Bn2O7Hbn.js","../../vite-plugin-material-symbols-svg/dist/loader-map.js","../../vite-plugin-material-symbols-svg/dist/consumer.js","../c-icon.vue"],"sourcesContent":["function keyOf(k) {\n  return `${k.theme}::${k.icon}::${k.fill}::${k.weight}::${k.size}`;\n}\nfunction parseSvg(svg) {\n  const viewBoxMatch = svg.match(/viewBox=\"([^\"]+)\"/i);\n  const pathMatch = svg.match(/<path[^>]*\\sd=\"([^\"]+)\"[^>]*>/i);\n  if (!viewBoxMatch || !pathMatch) return null;\n  return { viewBox: viewBoxMatch[1], d: pathMatch[1] };\n}\nfunction unique(arr) {\n  return Array.from(new Set(arr));\n}\nfunction normalizeNums(input, fallback) {\n  const src = input && input.length ? input : fallback;\n  return unique(Array.from(src).map((n) => Number(n)).filter((n) => Number.isFinite(n)));\n}\nfunction normalizeFills(input, fallback) {\n  const src = input && input.length ? input : fallback;\n  const arr = Array.from(src).map((v) => {\n    if (v === true) return 1;\n    if (v === false) return 0;\n    const n = Number(v);\n    return n === 1 ? 1 : 0;\n  });\n  return unique(arr);\n}\nfunction normalizeThemes(input, fallback) {\n  const src = input && input.length ? input : fallback;\n  const allowed = [\"rounded\", \"outlined\", \"sharp\"];\n  const arr = Array.from(src).map((t) => String(t).toLowerCase()).filter((t) => allowed.includes(t));\n  return unique(arr);\n}\nexport {\n  normalizeFills as a,\n  normalizeThemes as b,\n  keyOf as k,\n  normalizeNums as n,\n  parseSvg as p,\n  unique as u\n};\n//# sourceMappingURL=utils-Bn2O7Hbn.js.map\n","const RAW_MAP = {};\nexport {\n  RAW_MAP as default\n};\n//# sourceMappingURL=loader-map.js.map\n","import { k as keyOf, p as parseSvg } from \"./utils-Bn2O7Hbn.js\";\nimport RAW_MAP from \"./loader-map.js\";\nconst REGISTRY = /* @__PURE__ */ new Map();\nfunction getSymbol(k) {\n  const key = keyOf(k);\n  {\n    console.log(`[material-symbols-svg] Get symbol:`, key);\n  }\n  let symbol = REGISTRY.get(key);\n  if (symbol) return symbol;\n  const raw = RAW_MAP[key];\n  if (raw) {\n    symbol = parseSvg(raw) || void 0;\n    if (symbol) {\n      REGISTRY.set(key, symbol);\n      {\n        console.log(`[material-symbols-svg] getSymbol: parsed and cached \"${key}\"`);\n      }\n      return symbol;\n    }\n  }\n  {\n    console.warn(`[material-symbols-svg] getSymbol: NOT found \"${key}\"`);\n  }\n  return void 0;\n}\nexport {\n  getSymbol\n};\n//# sourceMappingURL=consumer.js.map\n","<template>\r\n  <svg :viewBox=\"viewBox\" v-bind=\"attrs\">\r\n    <path class=\"fill-current\" :d=\"path\" />\r\n  </svg>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed, ref, watch } from 'vue';\r\nimport type { Ref } from 'vue';\r\nimport { getSymbol } from '@hyrioo/vite-plugin-material-symbols-svg/consumer';\r\nimport type { IconKey, Theme, Fill, Weight } from '@hyrioo/vite-plugin-material-symbols-svg/consumer';\r\n\r\nexport interface CIconProps {\r\n  icon: IconKey;\r\n  weight?: Weight;\r\n  theme?: Theme;\r\n  fill?: Fill;\r\n  width?: number;\r\n  height?: number;\r\n  size?: number; // rendered size; used to decide optical size bucket\r\n}\r\n\r\nconst props = withDefaults(defineProps<CIconProps>(), {\r\n  width: undefined,\r\n  height: undefined,\r\n  size: 24,\r\n  theme: 'rounded',\r\n  fill: false,\r\n  weight: 200,\r\n});\r\n\r\nconst path: Ref<string> = ref('');\r\nconst viewBox: Ref<string> = ref('0 0 24 24');\r\n\r\nconst attrs = computed(() => ({\r\n  width: props.width ?? props.size,\r\n  height: props.height ?? props.size,\r\n}));\r\n\r\nfunction opticalSizeFor(rendered: number): 20 | 24 | 40 | 48 {\r\n  return rendered < 22 ? 20 : rendered < 32 ? 24 : rendered < 44 ? 40 : 48;\r\n}\r\n\r\nfunction updateIcon() {\r\n  const rendered = props.size ?? 24;\r\n  const size = opticalSizeFor(rendered);\r\n  const svg = getSymbol({\r\n    icon: String(props.icon),\r\n    theme: props.theme ?? 'rounded',\r\n    fill: props.fill ? 1 : 0,\r\n    weight: Number(props.weight ?? 200),\r\n    size: Number(size),\r\n  });\r\n  if (svg) {\r\n    path.value = svg.d;\r\n    viewBox.value = svg.viewBox;\r\n  } else {\r\n    const IS_DEV = (typeof process !== 'undefined' && process.env.NODE_ENV !== 'production') || \r\n                   (typeof (import.meta as any).env !== 'undefined' && (import.meta as any).env.DEV);\r\n    if (IS_DEV) {\r\n      // eslint-disable-next-line no-console\r\n      console.warn(`[CIcon] Icon not found: ${String(props.icon)} (size ${size})`);\r\n    }\r\n  }\r\n}\r\n\r\nwatch(\r\n  () => [props.icon, props.theme, props.fill, props.weight, props.size],\r\n  () => updateIcon(),\r\n);\r\n\r\nupdateIcon();\r\n</script>\r\n"],"names":["keyOf","k","parseSvg","svg","viewBoxMatch","pathMatch","RAW_MAP","REGISTRY","getSymbol","key","symbol","raw","props","__props","path","ref","viewBox","attrs","computed","opticalSizeFor","rendered","updateIcon","size","__vite_import_meta_env__","watch","_openBlock","_createElementBlock","_mergeProps","_createElementVNode"],"mappings":";AAAA,SAASA,EAAMC,GAAG;AAChB,SAAO,GAAGA,EAAE,KAAK,KAAKA,EAAE,IAAI,KAAKA,EAAE,IAAI,KAAKA,EAAE,MAAM,KAAKA,EAAE,IAAI;AACjE;AACA,SAASC,EAASC,GAAK;AACrB,QAAMC,IAAeD,EAAI,MAAM,oBAAoB,GAC7CE,IAAYF,EAAI,MAAM,gCAAgC;AAC5D,SAAI,CAACC,KAAgB,CAACC,IAAkB,OACjC,EAAE,SAASD,EAAa,CAAC,GAAG,GAAGC,EAAU,CAAC,EAAC;AACpD;ACRA,MAAMC,IAAU,CAAA,GCEVC,IAA2B,oBAAI,IAAG;AACxC,SAASC,EAAUP,GAAG;AACpB,QAAMQ,IAAMT,EAAMC,CAAC;AAEjB,UAAQ,IAAI,sCAAsCQ,CAAG;AAEvD,MAAIC,IAASH,EAAS,IAAIE,CAAG;AAC7B,MAAIC,EAAQ,QAAOA;AACnB,QAAMC,IAAML,EAAQG,CAAG;AACvB,MAAIE,MACFD,IAASR,EAASS,CAAG,KAAK,QACtBD;AACF,WAAAH,EAAS,IAAIE,GAAKC,CAAM,GAEtB,QAAQ,IAAI,wDAAwDD,CAAG,GAAG,GAErEC;AAIT,UAAQ,KAAK,gDAAgDD,CAAG,GAAG;AAGvE;;;;;;;;;;;;;ACHA,UAAMG,IAAQC,GASRC,IAAoBC,EAAI,EAAE,GAC1BC,IAAuBD,EAAI,WAAW,GAEtCE,IAAQC,EAAS,OAAO;AAAA,MAC5B,OAAON,EAAM,SAASA,EAAM;AAAA,MAC5B,QAAQA,EAAM,UAAUA,EAAM;AAAA,IAAA,EAC9B;AAEF,aAASO,EAAeC,GAAqC;AAC3D,aAAOA,IAAW,KAAK,KAAKA,IAAW,KAAK,KAAKA,IAAW,KAAK,KAAK;AAAA,IACxE;AAEA,aAASC,IAAa;AACpB,YAAMD,IAAWR,EAAM,QAAQ,IACzBU,IAAOH,EAAeC,CAAQ,GAC9BjB,IAAMK,EAAU;AAAA,QACpB,MAAM,OAAOI,EAAM,IAAI;AAAA,QACvB,OAAOA,EAAM,SAAS;AAAA,QACtB,MAAMA,EAAM,OAAO,IAAI;AAAA,QACvB,QAAQ,OAAOA,EAAM,UAAU,GAAG;AAAA,QAClC,MAAM,OAAOU,CAAI;AAAA,MAAA,CAClB;AACD,MAAInB,KACFW,EAAK,QAAQX,EAAI,GACjBa,EAAQ,QAAQb,EAAI,YAEJ,OAAO,UAAY,OAAe,QAAQ,IAAI,aAAa,gBAC3D,OAAQoB,IAA4B,OAAgB,OAGlE,QAAQ,KAAK,2BAA2B,OAAOX,EAAM,IAAI,CAAC,UAAUU,CAAI,GAAG;AAAA,IAGjF;AAEA,WAAAE;AAAA,MACE,MAAM,CAACZ,EAAM,MAAMA,EAAM,OAAOA,EAAM,MAAMA,EAAM,QAAQA,EAAM,IAAI;AAAA,MACpE,MAAMS,EAAA;AAAA,IAAW,GAGnBA,EAAA,cAtEEI,EAAA,GAAAC,EAEM,OAFNC,EAEM,EAFA,SAASX,EAAA,MAAA,GAAiBC,EAAA,KAAK,GAAA;AAAA,MACnCW,EAAuC,QAAA;AAAA,QAAjC,OAAM;AAAA,QAAgB,GAAGd,EAAA;AAAA,MAAA;;;;"}