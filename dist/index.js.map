{"version":3,"file":"index.js","sources":["../h-symbol.vue","../index.ts"],"sourcesContent":["<template>\r\n    <svg :viewBox=\"viewBox\" v-bind=\"attrs\">\r\n        <path :d=\"path\" class=\"fill-current\" />\r\n    </svg>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport type { Ref } from 'vue';\r\nimport { computed, ref, watch } from 'vue';\r\nimport type { OpticalSize, Filled, IconKey, Theme, Weight } from '@hyrioo/vite-plugin-material-symbols-svg/consumer';\r\nimport { getSymbol } from '@hyrioo/vite-plugin-material-symbols-svg/consumer';\r\nimport { symbolDefaultConfig } from './index';\r\n\r\nexport interface HSymbolProps {\r\n    icon: IconKey;\r\n    weight?: Weight;\r\n    theme?: Theme;\r\n    filled?: Filled;\r\n    size?: number; // rendered size; used to decide the optical size bucket\r\n    opticalSize?: OpticalSize | null;\r\n}\r\n\r\nconst props = withDefaults(defineProps<HSymbolProps>(), {\r\n    weight: () => symbolDefaultConfig.weight,\r\n    theme: () => symbolDefaultConfig.theme,\r\n    filled: () => symbolDefaultConfig.filled,\r\n    size: 24,\r\n    opticalSize: null,\r\n});\r\n\r\nconst path: Ref<string> = ref('');\r\nconst viewBox: Ref<string> = ref('0 0 24 24');\r\n\r\nconst attrs = computed(() => ({\r\n    width: props.size,\r\n    height: props.size,\r\n}));\r\n\r\nfunction opticalSizeFor(rendered: number): 20 | 24 | 40 | 48 {\r\n    return rendered < 22 ? 20 : rendered < 32 ? 24 : rendered < 44 ? 40 : 48;\r\n}\r\n\r\nfunction updateIcon() {\r\n    const rendered = props.size;\r\n    const size = opticalSizeFor(rendered);\r\n    const svg = getSymbol({\r\n        icon: String(props.icon),\r\n        theme: props.theme,\r\n        filled: props.filled ? 1 : 0,\r\n        weight: Number(props.weight),\r\n        size: Number(size),\r\n    });\r\n    if (svg) {\r\n        path.value = svg.d;\r\n        viewBox.value = svg.viewBox;\r\n    } else {\r\n        path.value = '';\r\n\r\n        if (symbolDefaultConfig.debug) {\r\n            // eslint-disable-next-line no-console\r\n            console.warn(`[h-symbol] Icon not found: ${String(props.icon)} (size ${size})`);\r\n        }\r\n    }\r\n}\r\n\r\nwatch(\r\n    () => [props.icon, props.theme, props.filled, props.weight, props.size],\r\n    () => updateIcon(),\r\n);\r\n\r\nupdateIcon();\r\n</script>\r\n","import { readonly } from 'vue';\r\nimport type { Filled, Theme, Weight } from '@hyrioo/vite-plugin-material-symbols-svg/consumer';\r\n\r\nexport { default as HSymbol } from './h-symbol.vue';\r\nexport type { HSymbolProps } from './h-symbol.vue';\r\n\r\nexport interface HSymbolConfig {\r\n    weight: Weight;\r\n    theme: Theme;\r\n    filled: Filled;\r\n    debug: boolean;\r\n}\r\n\r\nlet _defaults: HSymbolConfig = {\r\n    weight: 400,\r\n    theme: 'rounded',\r\n    filled: false,\r\n    debug: (typeof process !== 'undefined' && process.env.NODE_ENV !== 'production'),\r\n};\r\n\r\nexport function configureSymbolDefaults(\r\n    overrides: Partial<HSymbolConfig>,\r\n) {\r\n    _defaults = {\r\n        ..._defaults,\r\n        ...overrides,\r\n    };\r\n}\r\n\r\nexport const symbolDefaultConfig = readonly({\r\n    get weight() {\r\n        return _defaults.weight;\r\n    },\r\n    get theme() {\r\n        return _defaults.theme;\r\n    },\r\n    get filled() {\r\n        return _defaults.filled;\r\n    },\r\n    get debug() {\r\n        return _defaults.debug;\r\n    },\r\n});"],"names":["props","__props","path","ref","viewBox","attrs","computed","opticalSizeFor","rendered","updateIcon","size","svg","getSymbol","symbolDefaultConfig","watch","_openBlock","_createElementBlock","_mergeProps","_createElementVNode","_defaults","configureSymbolDefaults","overrides","readonly"],"mappings":";;;;;;;;;;;;;AAsBA,UAAMA,IAAQC,GAQRC,IAAoBC,EAAI,EAAE,GAC1BC,IAAuBD,EAAI,WAAW,GAEtCE,IAAQC,EAAS,OAAO;AAAA,MAC1B,OAAON,EAAM;AAAA,MACb,QAAQA,EAAM;AAAA,IAAA,EAChB;AAEF,aAASO,EAAeC,GAAqC;AACzD,aAAOA,IAAW,KAAK,KAAKA,IAAW,KAAK,KAAKA,IAAW,KAAK,KAAK;AAAA,IAC1E;AAEA,aAASC,IAAa;AAClB,YAAMD,IAAWR,EAAM,MACjBU,IAAOH,EAAeC,CAAQ,GAC9BG,IAAMC,EAAU;AAAA,QAClB,MAAM,OAAOZ,EAAM,IAAI;AAAA,QACvB,OAAOA,EAAM;AAAA,QACb,QAAQA,EAAM,SAAS,IAAI;AAAA,QAC3B,QAAQ,OAAOA,EAAM,MAAM;AAAA,QAC3B,MAAM,OAAOU,CAAI;AAAA,MAAA,CACpB;AACD,MAAIC,KACAT,EAAK,QAAQS,EAAI,GACjBP,EAAQ,QAAQO,EAAI,YAEpBT,EAAK,QAAQ,IAETW,EAAoB,SAEpB,QAAQ,KAAK,8BAA8B,OAAOb,EAAM,IAAI,CAAC,UAAUU,CAAI,GAAG;AAAA,IAG1F;AAEA,WAAAI;AAAA,MACI,MAAM,CAACd,EAAM,MAAMA,EAAM,OAAOA,EAAM,QAAQA,EAAM,QAAQA,EAAM,IAAI;AAAA,MACtE,MAAMS,EAAA;AAAA,IAAW,GAGrBA,EAAA,cArEIM,EAAA,GAAAC,EAEM,OAFNC,EAEM,EAFA,SAASb,EAAA,MAAA,GAAiBC,EAAA,KAAK,GAAA;AAAA,MACjCa,EAAuC,QAAA;AAAA,QAAhC,GAAGhB,EAAA;AAAA,QAAM,OAAM;AAAA,MAAA;;;;ACW9B,IAAIiB,IAA2B;AAAA,EAC3B,QAAQ;AAAA,EACR,OAAO;AAAA,EACP,QAAQ;AAAA,EACR,OAAQ,OAAO,UAAY,OAAe,QAAQ,IAAI,aAAa;AACvE;AAEO,SAASC,EACZC,GACF;AACE,EAAAF,IAAY;AAAA,IACR,GAAGA;AAAA,IACH,GAAGE;AAAA,EAAA;AAEX;AAEO,MAAMR,IAAsBS,EAAS;AAAA,EACxC,IAAI,SAAS;AACT,WAAOH,EAAU;AAAA,EACrB;AAAA,EACA,IAAI,QAAQ;AACR,WAAOA,EAAU;AAAA,EACrB;AAAA,EACA,IAAI,SAAS;AACT,WAAOA,EAAU;AAAA,EACrB;AAAA,EACA,IAAI,QAAQ;AACR,WAAOA,EAAU;AAAA,EACrB;AACJ,CAAC;"}