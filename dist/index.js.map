{"version":3,"file":"index.js","sources":["../c-icon.vue","../index.ts"],"sourcesContent":["<template>\r\n  <svg :viewBox=\"viewBox\" v-bind=\"attrs\">\r\n    <path class=\"fill-current\" :d=\"path\" />\r\n  </svg>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed, ref, watch } from 'vue';\r\nimport type { Ref } from 'vue';\r\nimport { getSymbol } from '@hyrioo/vite-plugin-material-symbols-svg/consumer';\r\nimport type { IconKey, Theme, Fill, Weight } from '@hyrioo/vite-plugin-material-symbols-svg/consumer';\r\nimport { symbolDefaultConfig } from './index';\r\n\r\nexport interface CIconProps {\r\n  icon: IconKey;\r\n  weight?: Weight;\r\n  theme?: Theme;\r\n  fill?: Fill;\r\n  width?: number;\r\n  height?: number;\r\n  size?: number; // rendered size; used to decide optical size bucket\r\n}\r\n\r\nconst props = withDefaults(defineProps<CIconProps>(), {\r\n  weight: () => symbolDefaultConfig.weight,\r\n  theme: () => symbolDefaultConfig.theme,\r\n  fill: () => symbolDefaultConfig.fill,\r\n  width: undefined,\r\n  height: undefined,\r\n  size: 24,\r\n});\r\n\r\nconst path: Ref<string> = ref('');\r\nconst viewBox: Ref<string> = ref('0 0 24 24');\r\n\r\nconst attrs = computed(() => ({\r\n  width: props.width ?? props.size,\r\n  height: props.height ?? props.size,\r\n}));\r\n\r\nfunction opticalSizeFor(rendered: number): 20 | 24 | 40 | 48 {\r\n  return rendered < 22 ? 20 : rendered < 32 ? 24 : rendered < 44 ? 40 : 48;\r\n}\r\n\r\nfunction updateIcon() {\r\n  const rendered = props.size;\r\n  const size = opticalSizeFor(rendered);\r\n  const svg = getSymbol({\r\n    icon: String(props.icon),\r\n    theme: props.theme,\r\n    fill: props.fill ? 1 : 0,\r\n    weight: Number(props.weight),\r\n    size: Number(size),\r\n  });\r\n  if (svg) {\r\n    path.value = svg.d;\r\n    viewBox.value = svg.viewBox;\r\n  } else {\r\n    const IS_DEV = (typeof process !== 'undefined' && process.env.NODE_ENV !== 'production') || \r\n                   (typeof (import.meta as any).env !== 'undefined' && (import.meta as any).env.DEV);\r\n    if (IS_DEV) {\r\n      // eslint-disable-next-line no-console\r\n      console.warn(`[CIcon] Icon not found: ${String(props.icon)} (size ${size})`);\r\n    }\r\n  }\r\n}\r\n\r\nwatch(\r\n  () => [props.icon, props.theme, props.fill, props.weight, props.size],\r\n  () => updateIcon(),\r\n);\r\n\r\nupdateIcon();\r\n</script>\r\n","import { readonly } from 'vue';\r\nimport type { Fill, Theme, Weight } from '@hyrioo/vite-plugin-material-symbols-svg/consumer';\r\n\r\nexport { default as CIcon } from './c-icon.vue';\r\nexport type { CIconProps } from './c-icon.vue';\r\n\r\nexport interface CIconConfig {\r\n    weight: Weight;\r\n    theme: Theme;\r\n    fill: Fill;\r\n}\r\n\r\nlet _defaults: CIconConfig = {\r\n    weight: 400,\r\n    theme: 'rounded',\r\n    fill: false,\r\n};\r\n\r\nexport function configureSymbolDefaults(\r\n    overrides: Partial<CIconConfig>,\r\n) {\r\n    _defaults = {\r\n        ..._defaults,\r\n        ...overrides,\r\n    };\r\n}\r\n\r\nexport const symbolDefaultConfig = readonly({\r\n    get weight() {\r\n        return _defaults.weight;\r\n    },\r\n    get theme() {\r\n        return _defaults.theme;\r\n    },\r\n    get fill() {\r\n        return _defaults.fill;\r\n    },\r\n});"],"names":["props","__props","path","ref","viewBox","attrs","computed","opticalSizeFor","rendered","updateIcon","size","svg","getSymbol","__vite_import_meta_env__","watch","_openBlock","_createElementBlock","_mergeProps","_createElementVNode","_defaults","configureSymbolDefaults","overrides","symbolDefaultConfig","readonly"],"mappings":";;;;;;;;;;;;;;AAuBA,UAAMA,IAAQC,GASRC,IAAoBC,EAAI,EAAE,GAC1BC,IAAuBD,EAAI,WAAW,GAEtCE,IAAQC,EAAS,OAAO;AAAA,MAC5B,OAAON,EAAM,SAASA,EAAM;AAAA,MAC5B,QAAQA,EAAM,UAAUA,EAAM;AAAA,IAAA,EAC9B;AAEF,aAASO,EAAeC,GAAqC;AAC3D,aAAOA,IAAW,KAAK,KAAKA,IAAW,KAAK,KAAKA,IAAW,KAAK,KAAK;AAAA,IACxE;AAEA,aAASC,IAAa;AACpB,YAAMD,IAAWR,EAAM,MACjBU,IAAOH,EAAeC,CAAQ,GAC9BG,IAAMC,EAAU;AAAA,QACpB,MAAM,OAAOZ,EAAM,IAAI;AAAA,QACvB,OAAOA,EAAM;AAAA,QACb,MAAMA,EAAM,OAAO,IAAI;AAAA,QACvB,QAAQ,OAAOA,EAAM,MAAM;AAAA,QAC3B,MAAM,OAAOU,CAAI;AAAA,MAAA,CAClB;AACD,MAAIC,KACFT,EAAK,QAAQS,EAAI,GACjBP,EAAQ,QAAQO,EAAI,YAEJ,OAAO,UAAY,OAAe,QAAQ,IAAI,aAAa,gBAC3D,OAAQE,IAA4B,OAAgB,OAGlE,QAAQ,KAAK,2BAA2B,OAAOb,EAAM,IAAI,CAAC,UAAUU,CAAI,GAAG;AAAA,IAGjF;AAEA,WAAAI;AAAA,MACE,MAAM,CAACd,EAAM,MAAMA,EAAM,OAAOA,EAAM,MAAMA,EAAM,QAAQA,EAAM,IAAI;AAAA,MACpE,MAAMS,EAAA;AAAA,IAAW,GAGnBA,EAAA,cAvEEM,EAAA,GAAAC,EAEM,OAFNC,EAEM,EAFA,SAASb,EAAA,MAAA,GAAiBC,EAAA,KAAK,GAAA;AAAA,MACnCa,EAAuC,QAAA;AAAA,QAAjC,OAAM;AAAA,QAAgB,GAAGhB,EAAA;AAAA,MAAA;;;;ACUnC,IAAIiB,IAAyB;AAAA,EACzB,QAAQ;AAAA,EACR,OAAO;AAAA,EACP,MAAM;AACV;AAEO,SAASC,EACZC,GACF;AACE,EAAAF,IAAY;AAAA,IACR,GAAGA;AAAA,IACH,GAAGE;AAAA,EAAA;AAEX;AAEO,MAAMC,IAAsBC,EAAS;AAAA,EACxC,IAAI,SAAS;AACT,WAAOJ,EAAU;AAAA,EACrB;AAAA,EACA,IAAI,QAAQ;AACR,WAAOA,EAAU;AAAA,EACrB;AAAA,EACA,IAAI,OAAO;AACP,WAAOA,EAAU;AAAA,EACrB;AACJ,CAAC;"}