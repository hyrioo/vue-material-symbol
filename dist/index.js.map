{"version":3,"file":"index.js","sources":["../c-icon.vue"],"sourcesContent":["<template>\r\n  <svg :viewBox=\"viewBox\" v-bind=\"attrs\">\r\n    <path class=\"fill-current\" :d=\"path\" />\r\n  </svg>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed, ref, watch } from 'vue';\r\nimport type { Ref } from 'vue';\r\nimport { getSymbol } from '@hyrioo/vite-plugin-material-symbols-svg';\r\n\r\ntype Theme = 'rounded' | 'outlined' | 'sharp';\r\n\r\nexport interface CIconProps {\r\n  icon: string;\r\n  weight?: number;\r\n  theme?: Theme;\r\n  fill?: 0 | 1;\r\n  width?: number;\r\n  height?: number;\r\n  size?: number; // rendered size; used to decide optical size bucket\r\n}\r\n\r\nconst props = withDefaults(defineProps<CIconProps>(), {\r\n  width: undefined,\r\n  height: undefined,\r\n  size: 24,\r\n  theme: 'rounded',\r\n  fill: 0,\r\n  weight: 200,\r\n});\r\n\r\nconst path: Ref<string> = ref('');\r\nconst viewBox: Ref<string> = ref('0 0 24 24');\r\n\r\nconst attrs = computed(() => ({\r\n  width: props.width ?? props.size,\r\n  height: props.height ?? props.size,\r\n}));\r\n\r\nfunction opticalSizeFor(rendered: number): 20 | 24 | 40 | 48 {\r\n  return rendered < 22 ? 20 : rendered < 32 ? 24 : rendered < 44 ? 40 : 48;\r\n}\r\n\r\nfunction updateIcon() {\r\n  const rendered = props.size ?? 24;\r\n  const size = opticalSizeFor(rendered);\r\n  const svg = getSymbol({\r\n    icon: String(props.icon),\r\n    theme: props.theme ?? 'rounded',\r\n    fill: (props.fill ?? 0) as 0 | 1,\r\n    weight: Number(props.weight ?? 200),\r\n    size: Number(size),\r\n  });\r\n  if (svg) {\r\n    path.value = svg.d;\r\n    viewBox.value = svg.viewBox;\r\n  } else if (import.meta.env?.DEV) {\r\n    // eslint-disable-next-line no-console\r\n    console.warn(`[CIcon] Icon not found: ${String(props.icon)} (size ${size})`);\r\n  }\r\n}\r\n\r\nwatch(\r\n  () => [props.icon, props.theme, props.fill, props.weight, props.size],\r\n  () => updateIcon(),\r\n);\r\n\r\nupdateIcon();\r\n</script>\r\n"],"names":["props","__props","path","ref","viewBox","attrs","computed","opticalSizeFor","rendered","updateIcon","size","svg","getSymbol","watch","_openBlock","_createElementBlock","_mergeProps","_createElementVNode"],"mappings":";;;;;;;;;;;;;;AAuBA,UAAMA,IAAQC,GASRC,IAAoBC,EAAI,EAAE,GAC1BC,IAAuBD,EAAI,WAAW,GAEtCE,IAAQC,EAAS,OAAO;AAAA,MAC5B,OAAON,EAAM,SAASA,EAAM;AAAA,MAC5B,QAAQA,EAAM,UAAUA,EAAM;AAAA,IAAA,EAC9B;AAEF,aAASO,EAAeC,GAAqC;AAC3D,aAAOA,IAAW,KAAK,KAAKA,IAAW,KAAK,KAAKA,IAAW,KAAK,KAAK;AAAA,IACxE;AAEA,aAASC,IAAa;AACpB,YAAMD,IAAWR,EAAM,QAAQ,IACzBU,IAAOH,EAAeC,CAAQ,GAC9BG,IAAMC,EAAU;AAAA,QACpB,MAAM,OAAOZ,EAAM,IAAI;AAAA,QACvB,OAAOA,EAAM,SAAS;AAAA,QACtB,MAAOA,EAAM,QAAQ;AAAA,QACrB,QAAQ,OAAOA,EAAM,UAAU,GAAG;AAAA,QAClC,MAAM,OAAOU,CAAI;AAAA,MAAA,CAClB;AACD,MAAIC,MACFT,EAAK,QAAQS,EAAI,GACjBP,EAAQ,QAAQO,EAAI;AAAA,IAKxB;AAEA,WAAAE;AAAA,MACE,MAAM,CAACb,EAAM,MAAMA,EAAM,OAAOA,EAAM,MAAMA,EAAM,QAAQA,EAAM,IAAI;AAAA,MACpE,MAAMS,EAAA;AAAA,IAAW,GAGnBA,EAAA,cAnEEK,EAAA,GAAAC,EAEM,OAFNC,EAEM,EAFA,SAASZ,EAAA,MAAA,GAAiBC,EAAA,KAAK,GAAA;AAAA,MACnCY,EAAuC,QAAA;AAAA,QAAjC,OAAM;AAAA,QAAgB,GAAGf,EAAA;AAAA,MAAA;;;;"}